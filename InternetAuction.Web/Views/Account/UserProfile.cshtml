﻿@using Microsoft.AspNet.Identity

@model InternetAuction.BLL.Models.UserModel

@{
    ViewBag.Title = "Profile";
}

<div>
    <h2>@Model.FirstName @Model.LastName</h2>
    <hr />

    @Html.ActionLink("Sale Lots", "SoldLots", "Lots", new { userId = Model.Id }, new { @class = "btn btn-warning" })
    @Html.ActionLink("Purchased Lots", "PurchasedLots", "Lots", new { userId = Model.Id }, new { @class = "btn btn-warning" })

    <table class="table w-50 p-0 mt-3">
        <tbody>
            <tr>
                <td>@Html.DisplayNameFor(m => m.Email)</td>
                <td class="font-weight-bold">@Html.DisplayFor(m => m.Email)</td>
            </tr>
            <tr class="border-bottom">
                <td>@Html.DisplayNameFor(m => m.PhoneNumber)</td>
                <td class="font-weight-bold">@Html.DisplayFor(m => m.PhoneNumber)</td>
            </tr>
        </tbody>
    </table>

    @if (User.Identity.GetUserId() == Model.Id)
    {
        <div class="row">
            <div class="col-lg-2">
                @Html.ActionLink("Edit", "Edit", "Account", new { id = Model.Id }, new { @class = "btn btn-primary col-lg-12 mb-2" })
            </div>
            <div class="col-lg-2">
                @using (Html.BeginForm("Logout", "Account", FormMethod.Post, new { @class = "col-lg-12 p-0 mb-2" }))
                {
                    <input type="submit" name="Logout" value="Logout" class="btn btn-danger col-lg-12" />
                }
            </div>
        </div>  
    }

</div>
